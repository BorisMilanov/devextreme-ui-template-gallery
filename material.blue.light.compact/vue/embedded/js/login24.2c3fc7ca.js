"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[8060],{99660:function(t,e,a){a.d(e,{CN:function(){return i},T4:function(){return l},p6:function(){return o}});var n=a(23142);function i(t){return String(t).replace(/(\d{3})(\d{3})(\d{4})/,"+1($1)$2-$3")}function l(t,e){return(0,n.uf)(t,{type:"currency",precision:e||0,currency:"USD"})}function o(t){return(0,n.p6)(new Date(t),"MM/dd/yyyy")}},34405:function(t,e,a){a.d(e,{Z:function(){return g}});var n=a(73396),i=a(87139),l=a(44870),o=a(4702),s=a(20788),u=a(99660),d=a(85219);const c={class:"activity"},r={class:"name"},v={key:0};var m=(0,n.aZ)({__name:"card-activities",props:{isLoading:{type:Boolean,default:!0},showBy:{type:Boolean,default:!1},items:null},setup(t){const e=t,a=[{icon:"overflow",items:[{text:"View details"},{text:"Delete"}]}];return(m,p)=>((0,n.wg)(),(0,n.iD)("div",{id:"activities-list",class:(0,i.C_)({load:!t.isLoading})},[(0,n.Wm)(d.Z,{"is-loading":e.isLoading,"container-selector":"#activities-list"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(o.DxList),{class:"activities-list",items:e.items,"scrolling-enabled":!1},{item:(0,n.w5)((({data:t})=>[(0,n._)("div",null,[(0,n._)("div",c,[(0,n._)("div",r,(0,i.zw)(t.name),1),(0,n._)("div",{class:(0,i.C_)(["date",{by:e.showBy}])},[(0,n._)("span",null,(0,i.zw)((0,l.SU)(u.p6)(new Date(t.date))),1),e.showBy?((0,n.wg)(),(0,n.iD)("span",v,"by")):(0,n.kq)("",!0),(0,n._)("span",null,(0,i.zw)(t.manager),1)],2),(0,n.Wm)((0,l.SU)(s.DxMenu),{class:"overflow-menu",items:a})])])])),_:1},8,["items"])])),_:1},8,["is-loading"])],2))}}),p=a(40089);const f=(0,p.Z)(m,[["__scopeId","data-v-74b31d3a"]]);var g=f},99247:function(t,e,a){a.d(e,{Z:function(){return C}});var n=a(73396),i=a(44870),l=a(87139),o=a(86050),s=a(16453),u=a(6224),d=a(68389),c=a(78517),r=a(45903),v=a(45944),m=a(36657),p=a.n(m),f=a(99660),g=a(85219);const w={class:"messages",id:"card-messages"},_={class:"input-content"},x={class:"messages-content"},D={class:"message-list"},S={class:"message-container"},W={class:"avatar"},U={class:"message dx-card"},y={class:"message-title"},b={class:"subject"},h={class:"message-text"};var I=(0,n.aZ)({__name:"card-messages",props:{isLoading:{type:Boolean,default:!0},user:{default:""},messages:{default:()=>[]}},setup(t){const e=t,a=(0,i.iH)(e.messages),I=(0,i.iH)(""),k=(0,i.iH)("");function Z(t){return t.split(" ").map((t=>t[0])).join("")}function C(t){return t.replace("{username}",e.user)}function B(t){if(!t.validationGroup.validate().isValid)return;const n={subject:k.value,text:I.value,manager:e.user,date:new Date};a.value.push(n),t.validationGroup.reset()}return(0,n.YP)((()=>e.messages),(t=>{a.value=t})),(t,H)=>((0,n.wg)(),(0,n.j4)((0,i.SU)(v.DxValidationGroup),null,{default:(0,n.w5)((()=>[(0,n._)("div",w,[(0,n.Wm)(g.Z,{"is-loading":e.isLoading,"container-selector":"#card-messages"},{default:(0,n.w5)((()=>[(0,n._)("div",_,[(0,n.Wm)((0,i.SU)(s.DxTextBox),{label:"Subject","styling-mode":"outlined",value:k.value,"value-change-event":"keyup",onValueChanged:H[0]||(H[0]=t=>k.value=t.value)},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(p()),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(m.DxRequiredRule))])),_:1})])),_:1},8,["value"]),(0,n.Wm)((0,i.SU)(o.DxTextArea),{label:"Message","styling-mode":"outlined",value:I.value,height:150,"value-change-event":"keyup",onValueChanged:H[1]||(H[1]=t=>I.value=t.value)},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(p()),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(m.DxRequiredRule))])),_:1})])),_:1},8,["value"]),(0,n.Wm)((0,i.SU)(d.DxToolbar),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(d.DxItem),{location:"before"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(c.DxFileUploader),{class:"file-uploader","label-text":"","select-button-text":"Attach file"})])),_:1}),(0,n.Wm)((0,i.SU)(d.DxItem),{widget:"dxButton",location:"after",options:{text:"Send",stylingMode:"outlined",type:"default",onClick:B}},null,8,["options"])])),_:1})]),(0,n._)("div",x,[(0,n.Wm)((0,i.SU)(r.DxScrollView),null,{default:(0,n.w5)((()=>[(0,n._)("div",D,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,(t=>((0,n.wg)(),(0,n.iD)("div",S,[(0,n._)("div",W,(0,l.zw)(Z(t.manager)),1),(0,n._)("div",U,[(0,n._)("div",y,[(0,n._)("div",null,[(0,n._)("div",b,(0,l.zw)(t.subject),1),(0,n._)("div",null,(0,l.zw)((0,i.SU)(f.p6)(new Date(t.date)))+" - "+(0,l.zw)(t.manager),1)]),(0,n.Wm)((0,i.SU)(u.DxButton),{icon:"overflow"})]),(0,n._)("div",h,(0,l.zw)(C(t.text)),1)])])))),256))])])),_:1})])])),_:1},8,["is-loading"])])])),_:1}))}}),k=a(40089);const Z=(0,k.Z)(I,[["__scopeId","data-v-5849f017"]]);var C=Z},98240:function(t,e,a){a.d(e,{Z:function(){return h}});var n=a(73396),i=a(44870),l=a(87139),o=a(86050),s=a(6224),u=a(68389),d=a(45944),c=a(36657),r=a.n(c),v=a(45903),m=a(99660),p=a(59450),f=a(85219);const g={class:"notes",id:"card-notes"},w={class:"input-content"},_={class:"messages-content"},x={class:"message-list"},D={class:"note dx-card"},S={class:"note-title"},W={class:"note-text"};var U=(0,n.aZ)({__name:"card-notes",props:{user:{default:""},contactId:{default:null},items:null},setup(t){const e=t,a=(0,i.iH)(!0),U=(0,i.iH)([]),y=(0,i.iH)("");function b(t){if(!t.validationGroup.validate().isValid)return;const a={manager:e.user,date:new Date,text:y.value};U.value.push(a),t.validationGroup.reset()}async function h(){null!=e.contactId&&(a.value=!0,U.value=await(0,p.$f)(e.contactId),a.value=!1)}return(0,n.YP)((()=>e.items),(t=>{t&&t.length>0&&(U.value=t,a.value=!1)})),(0,n.bv)((()=>{e.contactId&&h()})),(t,e)=>((0,n.wg)(),(0,n.j4)((0,i.SU)(d.DxValidationGroup),null,{default:(0,n.w5)((()=>[(0,n._)("div",g,[(0,n.Wm)(f.Z,{"is-loading":a.value,"container-selector":"#card-notes"},{default:(0,n.w5)((()=>[(0,n._)("div",w,[(0,n.Wm)((0,i.SU)(o.DxTextArea),{label:"New Note","styling-mode":"outlined",value:y.value,"value-change-event":"keyup",onValueChanged:e[0]||(e[0]=t=>y.value=t.value)},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(r()),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(c.DxRequiredRule))])),_:1})])),_:1},8,["value"]),(0,n.Wm)((0,i.SU)(u.DxToolbar),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(u.DxItem),{widget:"dxButton",location:"after",options:{text:"Add",stylingMode:"outlined",type:"default",onClick:b}},null,8,["options"])])),_:1})]),(0,n._)("div",_,[(0,n.Wm)((0,i.SU)(v.DxScrollView),null,{default:(0,n.w5)((()=>[(0,n._)("div",x,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.value,(t=>((0,n.wg)(),(0,n.iD)("div",D,[(0,n._)("div",S,[(0,n._)("div",null,(0,l.zw)((0,i.SU)(m.p6)(new Date(t.date)))+" - "+(0,l.zw)(t.manager),1),(0,n.Wm)((0,i.SU)(s.DxButton),{icon:"overflow"})]),(0,n._)("div",W,(0,l.zw)(t.text),1)])))),256))])])),_:1})])])),_:1},8,["is-loading"])])])),_:1}))}}),y=a(40089);const b=(0,y.Z)(U,[["__scopeId","data-v-c18d2ca4"]]);var h=b},5336:function(t,e,a){a.r(e),a.d(e,{default:function(){return U}});var n=a(73396),i=a(44870),l=a(53898),o=a(6224),s=a(85219),u=a(59450),d=a(26346);const c=t=>((0,n.dD)("data-v-9b8d87fa"),t=t(),(0,n.Cn)(),t),r={id:"card-opportunies"},v={class:"opportunities-block"},m=c((()=>(0,n._)("div",{class:"dx-form-group-caption"}," Active ",-1))),p={class:"opportunities-container"},f={class:"opportunities"},g={class:"opportunities-block"},w=c((()=>(0,n._)("div",{class:"dx-form-group-caption"}," Closed ",-1))),_={class:"opportunities-container"},x={class:"opportunities"};var D=(0,n.aZ)({__name:"card-opportunities",props:{contactId:{default:null}},setup(t){const e=t,a=(0,i.iH)([]),c=(0,i.iH)([]),D=(0,i.iH)(!1);async function S(){if(!e.contactId)return;D.value=!0;const t=(0,u.mj)(e.contactId),n=(0,u.dY)(e.contactId);[a.value,c.value]=await Promise.all([t,n]),D.value=!1}function W(){(0,l.Z)("Add opportunity event")}return(0,n.bv)((()=>{S()})),(t,e)=>((0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(s.Z,{"is-loading":D.value,"container-selector":"#card-opportunies"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(o.DxButton),{text:"Add Opportunity",icon:"add",width:"300",height:"115","styling-mode":"outlined",type:"default",class:"add-tile",onClick:W}),(0,n._)("div",null,[(0,n._)("div",v,[m,(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,(t=>((0,n.wg)(),(0,n.iD)("div",f,[(0,n.Wm)(d["default"],{data:t},null,8,["data"])])))),256))])]),(0,n._)("div",g,[w,(0,n._)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.value,(t=>((0,n.wg)(),(0,n.iD)("div",x,[(0,n.Wm)(d["default"],{data:t},null,8,["data"])])))),256))])])])])),_:1},8,["is-loading"])]))}}),S=a(40089);const W=(0,S.Z)(D,[["__scopeId","data-v-9b8d87fa"]]);var U=W},70078:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var n=a(73396),i=a(44870),l=a(69119),o=a(85219);const s={id:"card-tasks"};var u=(0,n.aZ)({__name:"card-tasks",props:{isLoading:{type:Boolean,default:!0},manager:{default:""},tasks:{default:()=>[]}},setup(t){const e=t,a=(0,i.iH)([]);(0,n.YP)((()=>e.tasks),(t=>{a.value=t}));const u=(0,n.Fl)((()=>a.value.filter((t=>!!t.status&&!!t.priority)))),d=t=>{const e=t.component.getVisibleRows(),n=a.value.indexOf(e[t.toIndex].data),i=a.value.indexOf(t.itemData);a.value.splice(i,1),a.value.splice(n,0,t.itemData)};return(t,a)=>((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(o.Z,{"is-loading":e.isLoading,"container-selector":"#card-tasks"},{default:(0,n.w5)((()=>[e.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)((0,i.SU)(l.DxDataGrid),{key:0,class:"tasks-grid","data-source":(0,i.SU)(u),"column-auto-width":!0,"selection-filter":["done","=",!0]},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(l.DxSelection),{"show-check-boxes-mode":"always",mode:"multiple"}),(0,n.Wm)((0,i.SU)(l.DxRowDragging),{"allow-reordering":!0,"on-reorder":d,"show-drag-icons":!0}),(0,n.Wm)((0,i.SU)(l.DxColumn),{"data-field":"text",caption:"Subject","hiding-priority":3}),(0,n.Wm)((0,i.SU)(l.DxColumn),{"data-field":"date","data-type":"date",caption:"Due Date","hiding-priority":1}),(0,n.Wm)((0,i.SU)(l.DxColumn),{caption:"Assigned To","data-field":"manager","hiding-priority":0})])),_:1},8,["data-source"]))])),_:1},8,["is-loading"])]))}}),d=a(40089);const c=(0,d.Z)(u,[["__scopeId","data-v-1a7a6047"]]);var r=c},26346:function(t,e,a){a.r(e),a.d(e,{default:function(){return w}});var n=a(73396),i=a(87139),l=a(44870),o=a(99660),s=a(53898);const u={class:"name"},d={class:"product-info"},c={class:"total"},r={class:"owner"},v=(0,n.Uk)(" Owner: "),m={class:"owner-name"};var p=(0,n.aZ)({__name:"opportunity-tile",props:{data:{default:()=>({})}},setup(t){const e=t,a=()=>{(0,s.Z)("Click opportunity event")};return(t,s)=>((0,n.wg)(),(0,n.iD)("div",{class:"opportunity",onClick:s[0]||(s[0]=t=>a())},[(0,n._)("div",u,(0,i.zw)(e.data.name),1),(0,n._)("div",d,[(0,n.Uk)(" Products: "+(0,i.zw)(e.data.products)+", total: ",1),(0,n._)("span",c,(0,i.zw)((0,l.SU)(o.T4)(e.data.total,2)),1)]),(0,n._)("div",r,[v,(0,n._)("span",m,(0,i.zw)(e.data.manager),1)])]))}}),f=a(40089);const g=(0,f.Z)(p,[["__scopeId","data-v-415d187d"]]);var w=g},68828:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var n=a(73396),i=a(44870),l=a(32583),o=a(70369),s=a(34405),u=a(98240),d=a(99247),c=a(59450),r=a(70078),v=a(5336);const m={class:"dx-card details-card"};var p=(0,n.aZ)({__name:"contact-cards",props:{contactId:{default:null},isLoading:{type:Boolean,default:!0},contactName:{default:""},tasks:{default:()=>[]},activities:{default:()=>[]}},setup(t){const e=t,a=(0,i.iH)(!0),p=(0,i.iH)([]);async function f(){e.contactId&&(a.value=!0,p.value=await(0,c.vz)(e.contactId),a.value=!1)}return(0,n.bv)((()=>{f()})),(t,c)=>((0,n.wg)(),(0,n.iD)("div",m,[(0,n.Wm)((0,i.SU)(l.DxTabPanel),{"show-nav-buttons":!0},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(o.DxItem),{title:"Tasks"},{default:(0,n.w5)((()=>[(0,n.Wm)(r["default"],{tasks:e.tasks,"is-loading":e.isLoading,manager:e.contactName},null,8,["tasks","is-loading","manager"])])),_:1}),(0,n.Wm)((0,i.SU)(o.DxItem),{title:"Activities"},{default:(0,n.w5)((()=>[(0,n.Wm)(s.Z,{"is-loading":e.isLoading,items:e.activities,"show-by":!0},null,8,["is-loading","items"])])),_:1}),(0,n.Wm)((0,i.SU)(o.DxItem),{title:"Opportunities"},{default:(0,n.w5)((()=>[(0,n.Wm)(v["default"],{"contact-id":e.contactId},null,8,["contact-id"])])),_:1}),(0,n.Wm)((0,i.SU)(o.DxItem),{title:"Notes"},{default:(0,n.w5)((()=>[(0,n.Wm)(u.Z,{user:e.contactName,"contact-id":e.contactId},null,8,["user","contact-id"])])),_:1}),(0,n.Wm)((0,i.SU)(o.DxItem),{title:"Messages",badge:p.value?.length+""},{default:(0,n.w5)((()=>[(0,n.Wm)(d.Z,{user:e.contactName,messages:p.value,"is-loading":a.value},null,8,["user","messages","is-loading"])])),_:1},8,["badge"])])),_:1})]))}});const f=p;var g=f},95102:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var n=a(73396),i=a(44870),l=a(6224),o=a(83835),s=a(68389),u=a(59450),d=a(20997),c=a(68828);const r=t=>((0,n.dD)("data-v-83bdd0b6"),t=t(),(0,n.Cn)(),t),v={class:"view-wrapper"},m=r((()=>(0,n._)("div",{class:"separator"},null,-1))),p={class:"panels"},f={class:"left"},g={class:"right"};var w=(0,n.aZ)({__name:"crm-contact-details",setup(t){const e=12,a=(0,i.iH)(""),r=(0,i.iH)({}),w=(0,i.iH)(!1);async function _(){w.value=!0;const t=await(0,u.vS)(e);r.value=t,a.value=t.name,w.value=!1}const x=()=>{_()};return(0,n.bv)((()=>{_()})),(t,u)=>((0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)((0,i.SU)(s.DxToolbar),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(s.DxItem),{location:"before"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(l.DxButton),{icon:"arrowleft"})])),_:1}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"before",text:a.value},null,8,["text"]),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after","locate-in-menu":"auto"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(l.DxButton),{text:"Terminate",type:"default","styling-mode":"contained"})])),_:1}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(o.DxDropDownButton),{text:"Actions",width:120,"styling-mode":"text"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(o.DxItem),{text:"Assign to Me"}),(0,n.Wm)((0,i.SU)(o.DxItem),{text:"Archive"})])),_:1})])),_:1}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after","locate-in-menu":"auto"},{default:(0,n.w5)((()=>[m])),_:1}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after","locate-in-menu":"auto",widget:"dxButton","show-text":"inMenu",options:{text:"Copy",icon:"copy"}}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after","locate-in-menu":"auto",widget:"dxButton","show-text":"inMenu",options:{text:"Refresh",icon:"refresh",onClick:x}},null,8,["options"])])),_:1}),(0,n._)("div",p,[(0,n._)("div",f,[(0,n.Wm)(d["default"],{"contact-data":r.value,"is-editing":!1,"is-loading":w.value&&!r.value.name},null,8,["contact-data","is-loading"])]),(0,n._)("div",g,[(0,n.Wm)(c["default"],{"is-loading":w.value,"contact-name":r.value?.name,"contact-id":e,tasks:r.value?.tasks,activities:r.value?.activities},null,8,["is-loading","contact-name","tasks","activities"])])])]))}}),_=a(40089);const x=(0,_.Z)(w,[["__scopeId","data-v-83bdd0b6"]]);var D=x}}]);