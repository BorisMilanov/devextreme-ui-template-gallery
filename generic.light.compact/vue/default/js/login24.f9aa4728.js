"use strict";(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[8060],{5336:function(t,a,e){e.r(a),e.d(a,{default:function(){return U}});var n=e(73396),i=e(44870),o=e(53898),l=e(6224),s=e(85219),d=e(59450),c=e(26346);const u=t=>((0,n.dD)("data-v-9b8d87fa"),t=t(),(0,n.Cn)(),t),r={id:"card-opportunies"},m={class:"opportunities-block"},v=u((()=>(0,n._)("div",{class:"dx-form-group-caption"}," Active ",-1))),p={class:"opportunities-container"},f={class:"opportunities"},g={class:"opportunities-block"},w=u((()=>(0,n._)("div",{class:"dx-form-group-caption"}," Closed ",-1))),_={class:"opportunities-container"},x={class:"opportunities"};var D=(0,n.aZ)({__name:"card-opportunities",props:{contactId:{default:null}},setup(t){const a=t,e=(0,i.iH)([]),u=(0,i.iH)([]),D=(0,i.iH)(!1);async function W(){if(!a.contactId)return;D.value=!0;const t=(0,d.mj)(a.contactId),n=(0,d.dY)(a.contactId);[e.value,u.value]=await Promise.all([t,n]),D.value=!1}function S(){(0,o.Z)("Add opportunity event")}return(0,n.bv)((()=>{W()})),(t,a)=>((0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(s.Z,{"is-loading":D.value,"container-selector":"#card-opportunies"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(l.DxButton),{text:"Add Opportunity",icon:"add",width:"300",height:"115","styling-mode":"outlined",type:"default",class:"add-tile",onClick:S}),(0,n._)("div",null,[(0,n._)("div",m,[v,(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.value,(t=>((0,n.wg)(),(0,n.iD)("div",f,[(0,n.Wm)(c["default"],{data:t},null,8,["data"])])))),256))])]),(0,n._)("div",g,[w,(0,n._)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.value,(t=>((0,n.wg)(),(0,n.iD)("div",x,[(0,n.Wm)(c["default"],{data:t},null,8,["data"])])))),256))])])])])),_:1},8,["is-loading"])]))}}),W=e(40089);const S=(0,W.Z)(D,[["__scopeId","data-v-9b8d87fa"]]);var U=S},70078:function(t,a,e){e.r(a),e.d(a,{default:function(){return r}});var n=e(73396),i=e(44870),o=e(69119),l=e(85219);const s={id:"card-tasks"};var d=(0,n.aZ)({__name:"card-tasks",props:{isLoading:{type:Boolean,default:!0},manager:{default:""},tasks:{default:()=>[]}},setup(t){const a=t,e=(0,i.iH)([]);(0,n.YP)((()=>a.tasks),(t=>{e.value=t}));const d=(0,n.Fl)((()=>e.value.filter((t=>!!t.status&&!!t.priority)))),c=t=>{const a=t.component.getVisibleRows(),n=e.value.indexOf(a[t.toIndex].data),i=e.value.indexOf(t.itemData);e.value.splice(i,1),e.value.splice(n,0,t.itemData)};return(t,e)=>((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(l.Z,{"is-loading":a.isLoading,"container-selector":"#card-tasks"},{default:(0,n.w5)((()=>[a.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)((0,i.SU)(o.DxDataGrid),{key:0,class:"tasks-grid","data-source":(0,i.SU)(d),"column-auto-width":!0,"selection-filter":["done","=",!0]},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(o.DxSelection),{"show-check-boxes-mode":"always",mode:"multiple"}),(0,n.Wm)((0,i.SU)(o.DxRowDragging),{"allow-reordering":!0,"on-reorder":c,"show-drag-icons":!0}),(0,n.Wm)((0,i.SU)(o.DxColumn),{"data-field":"text",caption:"Subject","hiding-priority":3}),(0,n.Wm)((0,i.SU)(o.DxColumn),{"data-field":"date","data-type":"date",caption:"Due Date","hiding-priority":1}),(0,n.Wm)((0,i.SU)(o.DxColumn),{caption:"Assigned To","data-field":"manager","hiding-priority":0})])),_:1},8,["data-source"]))])),_:1},8,["is-loading"])]))}}),c=e(40089);const u=(0,c.Z)(d,[["__scopeId","data-v-1a7a6047"]]);var r=u},26346:function(t,a,e){e.r(a),e.d(a,{default:function(){return w}});var n=e(73396),i=e(87139),o=e(44870),l=e(99660),s=e(53898);const d={class:"name"},c={class:"product-info"},u={class:"total"},r={class:"owner"},m=(0,n.Uk)(" Owner: "),v={class:"owner-name"};var p=(0,n.aZ)({__name:"opportunity-tile",props:{data:{default:()=>({})}},setup(t){const a=t,e=()=>{(0,s.Z)("Click opportunity event")};return(t,s)=>((0,n.wg)(),(0,n.iD)("div",{class:"opportunity",onClick:s[0]||(s[0]=t=>e())},[(0,n._)("div",d,(0,i.zw)(a.data.name),1),(0,n._)("div",c,[(0,n.Uk)(" Products: "+(0,i.zw)(a.data.products)+", total: ",1),(0,n._)("span",u,(0,i.zw)((0,o.SU)(l.T4)(a.data.total,2)),1)]),(0,n._)("div",r,[m,(0,n._)("span",v,(0,i.zw)(a.data.manager),1)])]))}}),f=e(40089);const g=(0,f.Z)(p,[["__scopeId","data-v-415d187d"]]);var w=g},68828:function(t,a,e){e.r(a),e.d(a,{default:function(){return g}});var n=e(73396),i=e(44870),o=e(32583),l=e(70369),s=e(52864),d=e(98240),c=e(99247),u=e(59450),r=e(70078),m=e(5336);const v={class:"dx-card details-card"};var p=(0,n.aZ)({__name:"contact-cards",props:{contactId:{default:null},isLoading:{type:Boolean,default:!0},contactName:{default:""},tasks:{default:()=>[]},activities:{default:()=>[]}},setup(t){const a=t,e=(0,i.iH)(!0),p=(0,i.iH)([]);async function f(){a.contactId&&(e.value=!0,p.value=await(0,u.vz)(a.contactId),e.value=!1)}return(0,n.bv)((()=>{f()})),(t,u)=>((0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)((0,i.SU)(o.DxTabPanel),{"show-nav-buttons":!0},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(l.DxItem),{title:"Tasks"},{default:(0,n.w5)((()=>[(0,n.Wm)(r["default"],{tasks:a.tasks,"is-loading":a.isLoading,manager:a.contactName},null,8,["tasks","is-loading","manager"])])),_:1}),(0,n.Wm)((0,i.SU)(l.DxItem),{title:"Activities"},{default:(0,n.w5)((()=>[(0,n.Wm)(s.Z,{"is-loading":a.isLoading,items:a.activities,"show-by":!0},null,8,["is-loading","items"])])),_:1}),(0,n.Wm)((0,i.SU)(l.DxItem),{title:"Opportunities"},{default:(0,n.w5)((()=>[(0,n.Wm)(m["default"],{"contact-id":a.contactId},null,8,["contact-id"])])),_:1}),(0,n.Wm)((0,i.SU)(l.DxItem),{title:"Notes"},{default:(0,n.w5)((()=>[(0,n.Wm)(d.Z,{user:a.contactName,"contact-id":a.contactId},null,8,["user","contact-id"])])),_:1}),(0,n.Wm)((0,i.SU)(l.DxItem),{title:"Messages",badge:p.value?.length+""},{default:(0,n.w5)((()=>[(0,n.Wm)(c.Z,{user:a.contactName,messages:p.value,"is-loading":e.value},null,8,["user","messages","is-loading"])])),_:1},8,["badge"])])),_:1})]))}});const f=p;var g=f},95102:function(t,a,e){e.r(a),e.d(a,{default:function(){return D}});var n=e(73396),i=e(44870),o=e(6224),l=e(83835),s=e(68389),d=e(59450),c=e(20997),u=e(68828);const r=t=>((0,n.dD)("data-v-83bdd0b6"),t=t(),(0,n.Cn)(),t),m={class:"view-wrapper"},v=r((()=>(0,n._)("div",{class:"separator"},null,-1))),p={class:"panels"},f={class:"left"},g={class:"right"};var w=(0,n.aZ)({__name:"crm-contact-details",setup(t){const a=12,e=(0,i.iH)(""),r=(0,i.iH)({}),w=(0,i.iH)(!1);async function _(){w.value=!0;const t=await(0,d.vS)(a);r.value=t,e.value=t.name,w.value=!1}const x=()=>{_()};return(0,n.bv)((()=>{_()})),(t,d)=>((0,n.wg)(),(0,n.iD)("div",m,[(0,n.Wm)((0,i.SU)(s.DxToolbar),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(s.DxItem),{location:"before"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(o.DxButton),{icon:"arrowleft"})])),_:1}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"before",text:e.value},null,8,["text"]),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after","locate-in-menu":"auto"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(o.DxButton),{text:"Terminate",type:"default","styling-mode":"contained"})])),_:1}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(l.DxDropDownButton),{text:"Actions",width:120,"styling-mode":"text"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,i.SU)(l.DxItem),{text:"Assign to Me"}),(0,n.Wm)((0,i.SU)(l.DxItem),{text:"Archive"})])),_:1})])),_:1}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after","locate-in-menu":"auto"},{default:(0,n.w5)((()=>[v])),_:1}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after","locate-in-menu":"auto",widget:"dxButton","show-text":"inMenu",options:{text:"Copy",icon:"copy"}}),(0,n.Wm)((0,i.SU)(s.DxItem),{location:"after","locate-in-menu":"auto",widget:"dxButton","show-text":"inMenu",options:{text:"Refresh",icon:"refresh",onClick:x}},null,8,["options"])])),_:1}),(0,n._)("div",p,[(0,n._)("div",f,[(0,n.Wm)(c["default"],{"contact-data":r.value,"is-editing":!1,"is-loading":w.value&&!r.value.name},null,8,["contact-data","is-loading"])]),(0,n._)("div",g,[(0,n.Wm)(u["default"],{"is-loading":w.value,"contact-name":r.value?.name,"contact-id":a,tasks:r.value?.tasks,activities:r.value?.activities},null,8,["is-loading","contact-name","tasks","activities"])])])]))}}),_=e(40089);const x=(0,_.Z)(w,[["__scopeId","data-v-83bdd0b6"]]);var D=x}}]);